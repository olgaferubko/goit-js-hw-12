{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46848522-362871de9bc7c195a5b36e0f9';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Не вдалося виконати запит');\n      }\n      return response.json();\n    });\n}\n","export function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images\n    .map(image => `\n      <a href=\"${image.largeImageURL}\" class=\"gallery__item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${image.likes}</p>\n          <p><b>Views:</b> ${image.views}</p>\n          <p><b>Comments:</b> ${image.comments}</p>\n          <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </a>\n    `)\n    .join('');\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.getElementById('loader');\nlet lightbox;\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n  if (!query) {\n    iziToast.warning({ title: 'Попередження', message: 'Будь ласка, введіть запит' });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  showLoader(); \n\n  fetchImages(query)\n    .then(data => {\n      hideLoader();\n\n      if (data.hits.length === 0) {\n        iziToast.error({ title: 'Помилка', message: 'Нічого не знайдено' });\n        return;\n      }\n\n      renderImages(data.hits);\n\n      if (lightbox) {\n        lightbox.refresh();\n      } else {\n        lightbox = new SimpleLightbox('.gallery a');\n      }\n    })\n    .catch(error => {\n      hideLoader(); \n      iziToast.error({ title: 'Помилка', message: 'Не вдалося завантажити зображення' });\n      console.error(error);\n    });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","renderImages","images","gallery","image","form","loader","lightbox","showLoader","hideLoader","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CACzD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAE9J,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,2BAA2B,EAE7C,OAAOA,EAAS,MACtB,CAAK,CACL,CCbO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EACjB,IAAIE,GAAS;AAAA,iBACDA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6BAE7BA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG3C,EACA,KAAK,EAAE,CACZ,CCRA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CF,EAAU,SAAS,cAAc,UAAU,EAC3CG,EAAS,SAAS,eAAe,QAAQ,EAC/C,IAAIC,EAEJ,SAASC,GAAa,CACpBF,EAAO,MAAM,QAAU,OACzB,CAEA,SAASG,GAAa,CACpBH,EAAO,MAAM,QAAU,MACzB,CAEAD,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,YAAY,MAAM,OACtD,GAAI,CAACd,EAAO,CACVe,EAAS,QAAQ,CAAE,MAAO,eAAgB,QAAS,2BAA2B,CAAE,EAChF,MACD,CAEDR,EAAQ,UAAY,GACpBK,IAEAb,EAAYC,CAAK,EACd,KAAKgB,GAAQ,CAGZ,GAFAH,IAEIG,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CAAE,MAAO,UAAW,QAAS,oBAAoB,CAAE,EAClE,MACD,CAEDV,EAAaW,EAAK,IAAI,EAElBL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAY,CAElD,CAAK,EACA,MAAMC,GAAS,CACdL,IACAE,EAAS,MAAM,CAAE,MAAO,UAAW,QAAS,mCAAmC,CAAE,EACjF,QAAQ,MAAMG,CAAK,CACzB,CAAK,CACL,CAAC"}